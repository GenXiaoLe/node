#### session 权鉴
- 客户端使⽤户名跟密码请求登录
- 首先在登录时候 后台登陆成功后会使用对象的形式将用户信息保存在内存中 一般使用rides
- 然后在cookie中写入 key值为固定值 value为刚才用户信息的key值 这样可以防止用户信息泄露
- 在再将刚才的cookie中的value使用自定规则生成签名存起来 这样在cookie被篡改时候 签名验证可以知道
- 再次访问其它接口的时候 先将cookie里的信息取出 跟签名匹配之后 从内存中的键值对取出用户信息 然后向客户端返回请求的数据


#### token（jwt） 权鉴
- 客户端使⽤户名跟密码请求登录
- 服务端收到请求，去验证⽤用户名与密码
- 验证成功后，服务端会签发⼀一个令牌(Token)，再把这个 Token 发送给客户端
- 客户端收到 Token 以后可以把它存储起来，⽐如放在 Cookie 里或者 Local Storage里
- 客户端每次向服务端请求资源的时候需要带着服务端签发的 Token
- 服务端收到请求，然后去验证客户端请求里面带着的 Token，如果验证成功，就向客户端返回请求的数据


#### 对比
- session要求服务端存储信息，并且根据id能够检索，⽽token不需要(因为信息就在token 中，这样实现了了服务端⽆状态化)。在⼤规模系统中，对每个请求都检索会话信息可能是⼀个复杂和耗时的过程。但另外一⽅面服务端要通过token来解析用户身份也需要定义好相应的协议(比如JWT)
- session⼀般通过cookie来交互，⽽token⽅式更加灵活，可以是cookie，也可以是header，也可以放在请求的内容中。不使⽤cookie可以带来跨域上的便利性。
- token的生成⽅式更更加多样化，可以由第三方模块来提供。
- token若被盗用，服务端无法感知，cookie信息存储在用户⾃⼰电脑中，被盗用⻛险略小。


### jwt原理分析
- "Bearer " + token -> 令牌头、payload、哈希
- 签名:默认使⽤base64对payload编码，使用hs256算法对令牌头、payload和密钥进行签名⽣成哈希
- 验证:默认使⽤hs256算法对hs256算法对令牌中数据签名并将结果和令牌中哈希比对




- jwt参考地址 http://www.ruanyifeng.com/blog/2018/07/json_web_token-tutorial.html

