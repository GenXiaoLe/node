<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script src="https://cdn.bootcss.com/axios/0.19.2/axios.min.js"></script>
<script>
    (async () => {
        // 访问9000端口页面 默认调用api端口为8000 模拟跨域
        // axios.defaults.baseURL = 'http://localhost:8000';
        // 如果使用了代理 上面就不需要了

        // 默认发送请求时候携带上cookie
        axios.defaults.withCredentials = true
        // 添加一个请求头 变为复杂类型请求
        const data = await axios.get('/api/user', {headers: {'X-Token': 'resquest headers'}});
        document.write(`response result is ${JSON.stringify(data.data)}`);
    })()
</script>
</html>